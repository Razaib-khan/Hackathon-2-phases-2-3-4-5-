version: '3.8'

services:
  app:
    build:
      context: ./backend
    ports:
      - "7860:7860"
    environment:
      - DATABASE_URL=${DATABASE_URL:-sqlite:///./todo_app.db}
      - JWT_SECRET_KEY=${JWT_SECRET_KEY:-default_secret_key}
      - ACCESS_TOKEN_EXPIRE_MINUTES=${ACCESS_TOKEN_EXPIRE_MINUTES:-30}
      - OPENROUTER_API_KEY=${OPENROUTER_API_KEY}
      - AIDO_MCP_URL=${AIDO_MCP_URL:-stdio://}
      - PORT=7860
    command: uvicorn src.main:app --host 0.0.0.0 --port 7860